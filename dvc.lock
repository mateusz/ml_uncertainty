schema: '2.0'
stages:
  generate:
    cmd: python src/create.py
    deps:
    - path: src/create.py
      md5: 5b9e5a1ebcd91de3e6634bc2dfe2b7c9
      size: 812
    - path: src/generators.py
      md5: dee58fb6ad705852b62ef95b069f82b4
      size: 1717
    params:
      params.yaml:
        generate:
          r: 20
          r_loc:
          - -3.0
          - 3.0
          r_scale:
          - 0.1
          - 1.0
          n_train: 1000
          n_val: 200
          n_test: 1000
        seed: 0
    outs:
    - path: data/dists.csv
      md5: 9e4eef0de39fc9789956fe5b40f5b967
      size: 900
    - path: data/test.csv
      md5: 4152624b7b601f3c0c05b1819b8c7c4b
      size: 26717
    - path: data/train.csv
      md5: 060fdff8fe3871d1c4727a671171d4d1
      size: 26707
    - path: data/val.csv
      md5: a0fcd5907380065579539722acd5681a
      size: 5295
    - path: evaluation/train_stripplot.png
      md5: 6771c0970f6e772f915180f2656ab85e
      size: 48782
  train:
    cmd: python src/train.py
    deps:
    - path: data/train.csv
      md5: 060fdff8fe3871d1c4727a671171d4d1
      size: 26707
    - path: data/val.csv
      md5: a0fcd5907380065579539722acd5681a
      size: 5295
    - path: src/models.py
      md5: 4535195eb2880f03cc8caeac124e462c
      size: 6181
    - path: src/train.py
      md5: 0d2bc397502efde177d22e88cf77280c
      size: 714
    params:
      params.yaml:
        train:
          embed_size: 4
          dense_size: 128
          dense_dropout: 0.5
          learning_rate: 0.01
    outs:
    - path: metrics/train.json
      md5: 75823e15005c51589100381947c2c2f6
      size: 135
    - path: models/monte_carlo_dropout
      md5: 920a8bb6f8e3f30035b77e1d6874af0c.dir
      size: 282926
      nfiles: 4
    - path: models/monte_carlo_dropout.json
      md5: 8ae92d6038293cee630f71d6c090c6a6
      size: 145
  eval:
    cmd: python src/eval.py
    deps:
    - path: data/dists.csv
      md5: 9e4eef0de39fc9789956fe5b40f5b967
      size: 900
    - path: data/test.csv
      md5: 4152624b7b601f3c0c05b1819b8c7c4b
      size: 26717
    - path: models/monte_carlo_dropout
      md5: 920a8bb6f8e3f30035b77e1d6874af0c.dir
      size: 282926
      nfiles: 4
    - path: models/monte_carlo_dropout.json
      md5: 8ae92d6038293cee630f71d6c090c6a6
      size: 145
    - path: src/eval.py
      md5: 15e64748a386817291cb211cffdd9114
      size: 3191
    - path: src/models.py
      md5: 4535195eb2880f03cc8caeac124e462c
      size: 6181
    params:
      params.yaml:
        eval:
          repeats: 1000
    outs:
    - path: evaluation/cdf_dist.png
      md5: 689c80c6729fcb1f385ec35784aa9a14
      size: 25737
    - path: evaluation/vs_underlying.png
      md5: e8b5a0589a1c5f2d443bf3206c7b5ca9
      size: 25013
    - path: metrics/eval.json
      md5: fb3cefc5ab9111685d9d3b73cfaaaf3b
      size: 126
